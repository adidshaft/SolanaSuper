INFO: Constructing runner from config.
INFO: Configuring Android Instrumentation driver: android_instrumentation_runtime {
  instrumentation_info {
    app_package: "com.solanasuper"
    test_package: "com.solanasuper.test"
    test_runner_class: "androidx.test.runner.AndroidJUnitRunner"
  }
  instrumentation_args {
    args_map {
      key: "additionalTestOutputDir"
      value: "/sdcard/Android/media/com.solanasuper/additional_test_output"
    }
    args_map {
      key: "class"
      value: "com.solanasuper.security.IdentityKeyManagerTest"
    }
  }
}
am_instrument_timeout: 31536000

INFO: Configuring AndroidTestApkInstallerPlugin: apks_to_install {
  apk_paths: "/Users/amanpandey/Desktop/SolanaSuper/app/build/outputs/apk/debug/app-debug.apk"
  install_options {
  }
  uninstall_after_test: true
}
apks_to_install {
  apk_paths: "/Users/amanpandey/Desktop/SolanaSuper/app/build/outputs/apk/androidTest/debug/app-debug-androidTest.apk"
  install_options {
  }
  uninstall_after_test: true
}
instrumentation_target_package_id: "com.solanasuper"

INFO: No installables found in test fixture. Nothing to install.
INFO: Installing [/Users/amanpandey/Desktop/SolanaSuper/app/build/outputs/apk/debug/app-debug.apk] on device emulator-5554.
INFO: Installing [/Users/amanpandey/Desktop/SolanaSuper/app/build/outputs/apk/androidTest/debug/app-debug-androidTest.apk] on device emulator-5554.
INFO: Start logcat streaming.
INFO: Running Android Instrumentation driver.
INFO: Copying files from device to host: /sdcard/Android/media/com.solanasuper/additional_test_output to /Users/amanpandey/Desktop/SolanaSuper/app/build/outputs/connected_android_test_additional_output/debugAndroidTest/connected/Pixel_8(AVD) - 16
INFO: Stop logcat streaming.
INFO: Uninstalling com.solanasuper for device emulator-5554.
INFO: Uninstalling com.solanasuper.test for device emulator-5554.
SEVERE: Execute com.solanasuper.security.IdentityKeyManagerTest.generateKey_shouldRequireUserAuthentication: FAILED
java.lang.IllegalStateException: java.security.InvalidAlgorithmParameterException: java.lang.IllegalStateException: At least one biometric must be enrolled to create keys requiring user authentication for every use
at android.security.keystore2.AndroidKeyStoreKeyPairGeneratorSpi.initialize(AndroidKeyStoreKeyPairGeneratorSpi.java:368)
at java.security.KeyPairGenerator$Delegate.initialize(KeyPairGenerator.java:720)
at java.security.KeyPairGenerator.initialize(KeyPairGenerator.java:461)
at com.solanasuper.security.IdentityKeyManager.generateIdentityKey(IdentityKeyManager.kt:37)
at com.solanasuper.security.IdentityKeyManagerTest.generateKey_shouldRequireUserAuthentication(IdentityKeyManagerTest.kt:15)
... 32 trimmed
Caused by: java.lang.IllegalStateException: At least one biometric must be enrolled to create keys requiring user authentication for every use
at android.security.keystore2.KeyStore2ParameterUtils.addSids(KeyStore2ParameterUtils.java:269)
at android.security.keystore2.KeyStore2ParameterUtils.addUserAuthArgs(KeyStore2ParameterUtils.java:330)
at android.security.keystore2.AndroidKeyStoreKeyPairGeneratorSpi.initialize(AndroidKeyStoreKeyPairGeneratorSpi.java:366)
... 37 more

java.security.InvalidAlgorithmParameterException: java.lang.IllegalStateException: At least one biometric must be enrolled to create keys requiring user authentication for every use
at android.security.keystore2.AndroidKeyStoreKeyPairGeneratorSpi.initialize(AndroidKeyStoreKeyPairGeneratorSpi.java:368)
at java.security.KeyPairGenerator$Delegate.initialize(KeyPairGenerator.java:720)
at java.security.KeyPairGenerator.initialize(KeyPairGenerator.java:461)
at com.solanasuper.security.IdentityKeyManager.generateIdentityKey(IdentityKeyManager.kt:37)
at com.solanasuper.security.IdentityKeyManagerTest.generateKey_shouldRequireUserAuthentication(IdentityKeyManagerTest.kt:15)
... 32 trimmed
Caused by: java.lang.IllegalStateException: At least one biometric must be enrolled to create keys requiring user authentication for every use
at android.security.keystore2.KeyStore2ParameterUtils.addSids(KeyStore2ParameterUtils.java:269)
at android.security.keystore2.KeyStore2ParameterUtils.addUserAuthArgs(KeyStore2ParameterUtils.java:330)
at android.security.keystore2.AndroidKeyStoreKeyPairGeneratorSpi.initialize(AndroidKeyStoreKeyPairGeneratorSpi.java:366)
... 37 more
